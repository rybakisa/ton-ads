{"ast":null,"code":"// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js');\n\nconst compare = require('../functions/compare.js');\n\nmodule.exports = (versions, range, options) => {\n  const set = [];\n  let first = null;\n  let prev = null;\n  const v = versions.sort((a, b) => compare(a, b, options));\n\n  for (const version of v) {\n    const included = satisfies(version, range, options);\n\n    if (included) {\n      prev = version;\n\n      if (!first) {\n        first = version;\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev]);\n      }\n\n      prev = null;\n      first = null;\n    }\n  }\n\n  if (first) {\n    set.push([first, null]);\n  }\n\n  const ranges = [];\n\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min);\n    } else if (!max && min === v[0]) {\n      ranges.push('*');\n    } else if (!max) {\n      ranges.push(`>=${min}`);\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`);\n    } else {\n      ranges.push(`${min} - ${max}`);\n    }\n  }\n\n  const simplified = ranges.join(' || ');\n  const original = typeof range.raw === 'string' ? range.raw : String(range);\n  return simplified.length < original.length ? simplified : range;\n};","map":{"version":3,"names":["satisfies","require","compare","module","exports","versions","range","options","set","first","prev","v","sort","a","b","version","included","push","ranges","min","max","simplified","join","original","raw","String","length"],"sources":["/home/rybakisa/Desktop/TEMP/HackaTON/TON Ads/ton-ads/node_modules/semver/ranges/simplify.js"],"sourcesContent":["// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,2BAAD,CAAzB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,yBAAD,CAAvB;;AACAE,MAAM,CAACC,OAAP,GAAiB,CAACC,QAAD,EAAWC,KAAX,EAAkBC,OAAlB,KAA8B;EAC7C,MAAMC,GAAG,GAAG,EAAZ;EACA,IAAIC,KAAK,GAAG,IAAZ;EACA,IAAIC,IAAI,GAAG,IAAX;EACA,MAAMC,CAAC,GAAGN,QAAQ,CAACO,IAAT,CAAc,CAACC,CAAD,EAAIC,CAAJ,KAAUZ,OAAO,CAACW,CAAD,EAAIC,CAAJ,EAAOP,OAAP,CAA/B,CAAV;;EACA,KAAK,MAAMQ,OAAX,IAAsBJ,CAAtB,EAAyB;IACvB,MAAMK,QAAQ,GAAGhB,SAAS,CAACe,OAAD,EAAUT,KAAV,EAAiBC,OAAjB,CAA1B;;IACA,IAAIS,QAAJ,EAAc;MACZN,IAAI,GAAGK,OAAP;;MACA,IAAI,CAACN,KAAL,EAAY;QACVA,KAAK,GAAGM,OAAR;MACD;IACF,CALD,MAKO;MACL,IAAIL,IAAJ,EAAU;QACRF,GAAG,CAACS,IAAJ,CAAS,CAACR,KAAD,EAAQC,IAAR,CAAT;MACD;;MACDA,IAAI,GAAG,IAAP;MACAD,KAAK,GAAG,IAAR;IACD;EACF;;EACD,IAAIA,KAAJ,EAAW;IACTD,GAAG,CAACS,IAAJ,CAAS,CAACR,KAAD,EAAQ,IAAR,CAAT;EACD;;EAED,MAAMS,MAAM,GAAG,EAAf;;EACA,KAAK,MAAM,CAACC,GAAD,EAAMC,GAAN,CAAX,IAAyBZ,GAAzB,EAA8B;IAC5B,IAAIW,GAAG,KAAKC,GAAZ,EAAiB;MACfF,MAAM,CAACD,IAAP,CAAYE,GAAZ;IACD,CAFD,MAEO,IAAI,CAACC,GAAD,IAAQD,GAAG,KAAKR,CAAC,CAAC,CAAD,CAArB,EAA0B;MAC/BO,MAAM,CAACD,IAAP,CAAY,GAAZ;IACD,CAFM,MAEA,IAAI,CAACG,GAAL,EAAU;MACfF,MAAM,CAACD,IAAP,CAAa,KAAIE,GAAI,EAArB;IACD,CAFM,MAEA,IAAIA,GAAG,KAAKR,CAAC,CAAC,CAAD,CAAb,EAAkB;MACvBO,MAAM,CAACD,IAAP,CAAa,KAAIG,GAAI,EAArB;IACD,CAFM,MAEA;MACLF,MAAM,CAACD,IAAP,CAAa,GAAEE,GAAI,MAAKC,GAAI,EAA5B;IACD;EACF;;EACD,MAAMC,UAAU,GAAGH,MAAM,CAACI,IAAP,CAAY,MAAZ,CAAnB;EACA,MAAMC,QAAQ,GAAG,OAAOjB,KAAK,CAACkB,GAAb,KAAqB,QAArB,GAAgClB,KAAK,CAACkB,GAAtC,GAA4CC,MAAM,CAACnB,KAAD,CAAnE;EACA,OAAOe,UAAU,CAACK,MAAX,GAAoBH,QAAQ,CAACG,MAA7B,GAAsCL,UAAtC,GAAmDf,KAA1D;AACD,CAzCD"},"metadata":{},"sourceType":"script"}