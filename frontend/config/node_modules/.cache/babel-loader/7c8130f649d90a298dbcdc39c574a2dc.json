{"ast":null,"code":"const {\n  Cell\n} = require(\"../../boc\");\n\nconst {\n  WalletContract\n} = require(\"./WalletContract\");\n\nclass WalletV2ContractBase extends WalletContract {\n  /**\n   * @override\n   * @private\n   * @param   seqno?   {number}\n   * @return {Cell}\n   */\n  createSigningMessage(seqno) {\n    seqno = seqno || 0;\n    const message = new Cell();\n    message.bits.writeUint(seqno, 32);\n\n    if (seqno === 0) {\n      // message.bits.writeInt(-1, 32);// todo: dont work\n      for (let i = 0; i < 32; i++) {\n        message.bits.writeBit(1);\n      }\n    } else {\n      const date = new Date();\n      const timestamp = Math.floor(date.getTime() / 1e3);\n      message.bits.writeUint(timestamp + 60, 32);\n    }\n\n    return message;\n  }\n\n}\n\nclass WalletV2ContractR1 extends WalletV2ContractBase {\n  /**\n   * @param provider    {HttpProvider}\n   * @param options? {any}\n   */\n  constructor(provider, options) {\n    options.code = Cell.oneFromBoc(\"B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6\");\n    super(provider, options);\n  }\n\n  getName() {\n    return 'v2R1';\n  }\n\n}\n\nclass WalletV2ContractR2 extends WalletV2ContractBase {\n  /**\n   * @param provider    {HttpProvider}\n   * @param options? {any}\n   */\n  constructor(provider, options) {\n    options.code = Cell.oneFromBoc(\"B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1\");\n    super(provider, options);\n  }\n\n  getName() {\n    return 'v2R2';\n  }\n\n}\n\nmodule.exports = {\n  WalletV2ContractR1,\n  WalletV2ContractR2\n};","map":{"version":3,"names":["Cell","require","WalletContract","WalletV2ContractBase","createSigningMessage","seqno","message","bits","writeUint","i","writeBit","date","Date","timestamp","Math","floor","getTime","WalletV2ContractR1","constructor","provider","options","code","oneFromBoc","getName","WalletV2ContractR2","module","exports"],"sources":["/home/rybakisa/Desktop/TEMP/HackaTON/TON Ads/ton-ads/node_modules/tonweb/src/contract/wallet/WalletContractV2.js"],"sourcesContent":["const {Cell} = require(\"../../boc\");\nconst {WalletContract} = require(\"./WalletContract\");\n\nclass WalletV2ContractBase extends WalletContract {\n    /**\n     * @override\n     * @private\n     * @param   seqno?   {number}\n     * @return {Cell}\n     */\n    createSigningMessage(seqno) {\n        seqno = seqno || 0;\n        const message = new Cell();\n        message.bits.writeUint(seqno, 32);\n        if (seqno === 0) {\n            // message.bits.writeInt(-1, 32);// todo: dont work\n            for (let i = 0; i < 32; i++) {\n                message.bits.writeBit(1);\n            }\n        } else {\n            const date = new Date();\n            const timestamp = Math.floor(date.getTime() / 1e3);\n            message.bits.writeUint(timestamp + 60, 32);\n        }\n        return message;\n    }\n}\n\nclass WalletV2ContractR1 extends WalletV2ContractBase {\n    /**\n     * @param provider    {HttpProvider}\n     * @param options? {any}\n     */\n    constructor(provider, options) {\n        options.code = Cell.oneFromBoc(\"B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6\");\n        super(provider, options);\n    }\n\n    getName() {\n        return 'v2R1';\n    }\n}\n\nclass WalletV2ContractR2 extends WalletV2ContractBase {\n    /**\n     * @param provider    {HttpProvider}\n     * @param options? {any}\n     */\n    constructor(provider, options) {\n        options.code = Cell.oneFromBoc(\"B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1\");\n        super(provider, options);\n    }\n\n    getName() {\n        return 'v2R2';\n    }\n}\n\nmodule.exports = {WalletV2ContractR1, WalletV2ContractR2};\n"],"mappings":"AAAA,MAAM;EAACA;AAAD,IAASC,OAAO,CAAC,WAAD,CAAtB;;AACA,MAAM;EAACC;AAAD,IAAmBD,OAAO,CAAC,kBAAD,CAAhC;;AAEA,MAAME,oBAAN,SAAmCD,cAAnC,CAAkD;EAC9C;AACJ;AACA;AACA;AACA;AACA;EACIE,oBAAoB,CAACC,KAAD,EAAQ;IACxBA,KAAK,GAAGA,KAAK,IAAI,CAAjB;IACA,MAAMC,OAAO,GAAG,IAAIN,IAAJ,EAAhB;IACAM,OAAO,CAACC,IAAR,CAAaC,SAAb,CAAuBH,KAAvB,EAA8B,EAA9B;;IACA,IAAIA,KAAK,KAAK,CAAd,EAAiB;MACb;MACA,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;QACzBH,OAAO,CAACC,IAAR,CAAaG,QAAb,CAAsB,CAAtB;MACH;IACJ,CALD,MAKO;MACH,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;MACA,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,OAAL,KAAiB,GAA5B,CAAlB;MACAV,OAAO,CAACC,IAAR,CAAaC,SAAb,CAAuBK,SAAS,GAAG,EAAnC,EAAuC,EAAvC;IACH;;IACD,OAAOP,OAAP;EACH;;AAtB6C;;AAyBlD,MAAMW,kBAAN,SAAiCd,oBAAjC,CAAsD;EAClD;AACJ;AACA;AACA;EACIe,WAAW,CAACC,QAAD,EAAWC,OAAX,EAAoB;IAC3BA,OAAO,CAACC,IAAR,GAAerB,IAAI,CAACsB,UAAL,CAAgB,8MAAhB,CAAf;IACA,MAAMH,QAAN,EAAgBC,OAAhB;EACH;;EAEDG,OAAO,GAAG;IACN,OAAO,MAAP;EACH;;AAZiD;;AAetD,MAAMC,kBAAN,SAAiCrB,oBAAjC,CAAsD;EAClD;AACJ;AACA;AACA;EACIe,WAAW,CAACC,QAAD,EAAWC,OAAX,EAAoB;IAC3BA,OAAO,CAACC,IAAR,GAAerB,IAAI,CAACsB,UAAL,CAAgB,sOAAhB,CAAf;IACA,MAAMH,QAAN,EAAgBC,OAAhB;EACH;;EAEDG,OAAO,GAAG;IACN,OAAO,MAAP;EACH;;AAZiD;;AAetDE,MAAM,CAACC,OAAP,GAAiB;EAACT,kBAAD;EAAqBO;AAArB,CAAjB"},"metadata":{},"sourceType":"script"}